next =: 3 : '(0 ,"1 y) , 1 ,"1 |. y'
gray =: 3 : 'next ^: y 2 1 $ 0 1'

NB. Usage examples:
NB. gray 0
NB. gray 1
NB. gray 7